!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.CanvasCapture=e():t.CanvasCapture=e()}(self,function(){return(()=>{var i={583:(f,p,m)=>{var g;f=m.nmd(f),function(){var t,O,e,i;void 0!==f.exports&&(t=m(617),O=m(549),e=m(468),i=m(627));var n={function:!0,object:!0};function r(t){return t&&t.Object===Object?t:null}parseFloat,parseInt;var o,a=n[typeof p]&&p&&!p.nodeType?p:void 0,s=n.object&&f&&!f.nodeType?f:void 0,l=(s&&s.exports,r(a&&s&&"object"==typeof m.g&&m.g)),a=r(n[typeof self]&&self),s=r(n[typeof window]&&window),n=r(n[typeof this]&&this);l||s!==(n&&n.window)&&s||a||n||Function("return this")();function h(t){return String("0000000"+t).slice(-7)}"gc"in window||(window.gc=function(){}),HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(t,e,i){for(var n=atob(this.toDataURL(e,i).split(",")[1]),r=n.length,o=new Uint8Array(r),a=0;a<r;a++)o[a]=n.charCodeAt(a);t(new Blob([o],{type:e||"image/png"}))}}),"performance"in window==0&&(window.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in window.performance==0&&(o=Date.now(),performance.timing&&performance.timing.navigationStart&&(o=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-o});var R=window.Date.now();function c(t){var i={};function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}this.settings=t,this.on=function(t,e){i[t]=e},this.emit=function(t){var e=i[t];e&&e.apply(null,Array.prototype.slice.call(arguments,1))},this.filename=t.name||e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e(),this.extension="",this.mimeType=""}function d(t){c.call(this,t),this.extension=".tar",this.mimeType="application/x-tar",this.fileExtension="",this.tape=null,this.count=0}function U(t){d.call(this,t),this.type="image/png",this.fileExtension=".png"}function z(t){d.call(this,t),this.type="image/jpeg",this.fileExtension=".jpg",this.quality=t.quality/100||.8}function W(t){"image/webp"!==document.createElement("canvas").toDataURL("image/webp").substr(5,10)&&console.log("WebP not supported - try another export format"),c.call(this,t),this.quality=t.quality/100||.8,this.extension=".webm",this.mimeType="video/webm",this.baseFilename=this.filename,this.frames=[],this.part=1,this.videoWriter=new i({quality:this.quality,fileWriter:null,fd:null,frameRate:t.framerate})}function q(t){c.call(this,t),t.quality=t.quality/100||.8,this.encoder=new FFMpegServer.Video(t),this.encoder.on("process",function(){this.emit("process")}.bind(this)),this.encoder.on("finished",function(t,e){var i=this.callback;i&&(this.callback=void 0,i(t,e))}.bind(this)),this.encoder.on("progress",function(t){this.settings.onProgress&&this.settings.onProgress(t)}.bind(this)),this.encoder.on("error",function(t){alert(JSON.stringify(t,null,2))}.bind(this))}function N(t){c.call(this,t),this.framerate=this.settings.framerate,this.type="video/webm",this.extension=".webm",this.stream=null,this.mediaRecorder=null,this.chunks=[]}function G(t){c.call(this,t),t.quality=31-(30*t.quality/100||10),t.workers=t.workers||4,this.extension=".gif",this.mimeType="image/gif",this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.sizeSet=!1,this.encoder=new e({workers:t.workers,quality:t.quality,workerScript:t.workersPath}),this.encoder.on("progress",function(t){this.settings.onProgress&&this.settings.onProgress(t)}.bind(this)),this.encoder.on("finished",function(t){var e=this.callback;e&&(this.callback=void 0,e(t))}.bind(this))}function u(t){var e,n,r,o,a,i,s,l=t||{},h=(new Date,[]),c=[],d=0,u=0,f=[],p=!1,m={};l.framerate=l.framerate||60,l.motionBlurFrames=2*(l.motionBlurFrames||1),e=l.verbose||!1,l.display,l.step=1e3/l.framerate,l.timeLimit=l.timeLimit||0,l.frameLimit=l.frameLimit||0,l.startTime=l.startTime||0;var g=document.createElement("div");g.style.position="absolute",g.style.left=g.style.top=0,g.style.backgroundColor="black",g.style.fontFamily="monospace",g.style.fontSize="11px",g.style.padding="5px",g.style.color="red",g.style.zIndex=1e5,l.display&&document.body.appendChild(g);var w,y,b=document.createElement("canvas"),v=b.getContext("2d");I("Step is set to "+l.step+"ms");var x,k={gif:G,webm:W,ffmpegserver:q,png:U,jpg:z,"webm-mediarecorder":N},t=k[l.format];if(!t)throw"Error: Incorrect or missing format: Valid formats are "+Object.keys(k).join(", ");(s=new t(l)).step=i,s.on("process",F),s.on("progress",function(t){!function(t){var e=m[t];e&&e.apply(null,Array.prototype.slice.call(arguments,1))}("progress",t)}),"performance"in window==0&&(window.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in window.performance==0&&(x=Date.now(),performance.timing&&performance.timing.navigationStart&&(x=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-x});var A=window.setTimeout,B=window.setInterval,E=window.clearInterval,S=window.clearTimeout,_=window.requestAnimationFrame,T=window.Date.now,C=window.performance.now,L=window.Date.prototype.getTime,M=[];function P(){p=!1,s.stop(),I("Capturer stop"),window.setTimeout=A,window.setInterval=B,window.clearInterval=E,window.clearTimeout=S,window.requestAnimationFrame=_,window.Date.prototype.getTime=L,window.Date.now=T,window.performance.now=C}function D(t,e){A(t,0,e)}function i(){D(F)}function F(){var t=1e3/l.framerate,e=(d+u/l.motionBlurFrames)*t;n=r+e,o=a+e,M.forEach(function(t){t._hookedTime=e/1e3}),function(){var t=d/l.framerate;(l.frameLimit&&d>=l.frameLimit||l.timeLimit&&t>=l.timeLimit)&&(P(),j());var e=new Date(null);e.setSeconds(t),2<l.motionBlurFrames?g.textContent="CCapture "+l.format+" | "+d+" frames ("+u+" inter) | "+e.toISOString().substr(11,8):g.textContent="CCapture "+l.format+" | "+d+" frames | "+e.toISOString().substr(11,8)}(),I("Frame: "+d+" "+u);for(var i=0;i<h.length;i++)n>=h[i].triggerTime&&(D(h[i].callback),h.splice(i,1));for(i=0;i<c.length;i++)n>=c[i].triggerTime&&(D(c[i].callback),c[i].triggerTime+=c[i].time);f.forEach(function(t){D(t,n-R)}),f=[]}function j(t){t=t||function(t){return O(t,s.filename+s.extension,s.mimeType),!1},s.save(t)}function I(t){e&&console.log(t)}return{start:function(){!function(){function t(){return this._hooked||(this._hooked=!0,this._hookedTime=this.currentTime||0,this.pause(),M.push(this)),this._hookedTime+l.startTime}I("Capturer start"),r=window.Date.now(),n=r+l.startTime,a=window.performance.now(),o=a+l.startTime,window.Date.prototype.getTime=function(){return n},window.Date.now=function(){return n},window.setTimeout=function(t,e){e={callback:t,time:e,triggerTime:n+e};return h.push(e),I("Timeout set to "+e.time),e},window.clearTimeout=function(t){for(var e=0;e<h.length;e++)h[e]!=t||(h.splice(e,1),I("Timeout cleared"))},window.setInterval=function(t,e){e={callback:t,time:e,triggerTime:n+e};return c.push(e),I("Interval set to "+e.time),e},window.clearInterval=function(t){return I("clear Interval"),null},window.requestAnimationFrame=function(t){f.push(t)},window.performance.now=function(){return o};try{Object.defineProperty(HTMLVideoElement.prototype,"currentTime",{get:t}),Object.defineProperty(HTMLAudioElement.prototype,"currentTime",{get:t})}catch(t){I(t)}}(),s.start(),p=!0},capture:function(t){var e;p&&(2<l.motionBlurFrames?(e=t,b.width===e.width&&b.height===e.height||(b.width=e.width,b.height=e.height,w=new Uint16Array(b.height*b.width*4),v.fillStyle="#0",v.fillRect(0,0,b.width,b.height)),function(t){v.drawImage(t,0,0),y=v.getImageData(0,0,b.width,b.height);for(var e=0;e<w.length;e+=4)w[e]+=y.data[e],w[e+1]+=y.data[e+1],w[e+2]+=y.data[e+2];u++}(t),(u>=.5*l.motionBlurFrames?function(){for(var t=y.data,e=0;e<w.length;e+=4)t[e]=2*w[e]/l.motionBlurFrames,t[e+1]=2*w[e+1]/l.motionBlurFrames,t[e+2]=2*w[e+2]/l.motionBlurFrames;for(v.putImageData(y,0,0),s.add(b),u=0,I("Full MB Frame! "+ ++d+" "+n),e=0;e<w.length;e+=4)w[e]=0,w[e+1]=0,w[e+2]=0;gc()}:i)()):(s.add(t),I("Full Frame! "+ ++d)))},stop:P,save:j,on:function(t,e){m[t]=e}}}c.prototype.start=function(){},c.prototype.stop=function(){},c.prototype.add=function(){},c.prototype.save=function(){},c.prototype.dispose=function(){},c.prototype.safeToProceed=function(){return!0},c.prototype.step=function(){console.log("Step not set!")},(d.prototype=Object.create(c.prototype)).start=function(){this.dispose()},d.prototype.add=function(t){var e=new FileReader;e.onload=function(){this.tape.append(h(this.count)+this.fileExtension,new Uint8Array(e.result)),this.count++,this.step()}.bind(this),e.readAsArrayBuffer(t)},d.prototype.save=function(t){t(this.tape.save())},d.prototype.dispose=function(){this.tape=new t,this.count=0},(U.prototype=Object.create(d.prototype)).add=function(t){t.toBlob(function(t){d.prototype.add.call(this,t)}.bind(this),this.type)},(z.prototype=Object.create(d.prototype)).add=function(t){t.toBlob(function(t){d.prototype.add.call(this,t)}.bind(this),this.type,this.quality)},(W.prototype=Object.create(c.prototype)).start=function(t){this.dispose()},W.prototype.add=function(t){this.videoWriter.addFrame(t),0<this.settings.autoSaveTime&&this.frames.length/this.settings.framerate>=this.settings.autoSaveTime?this.save(function(t){this.filename=this.baseFilename+"-part-"+h(this.part),O(t,this.filename+this.extension,this.mimeType),this.dispose(),this.part++,this.filename=this.baseFilename+"-part-"+h(this.part),this.step()}.bind(this)):this.step()},W.prototype.save=function(t){this.videoWriter.complete().then(t)},W.prototype.dispose=function(t){this.frames=[]},(q.prototype=Object.create(c.prototype)).start=function(){this.encoder.start(this.settings)},q.prototype.add=function(t){this.encoder.add(t)},q.prototype.save=function(t){this.callback=t,this.encoder.end()},q.prototype.safeToProceed=function(){return this.encoder.safeToProceed()},(N.prototype=Object.create(c.prototype)).add=function(t){this.stream||(this.stream=t.captureStream(this.framerate),this.mediaRecorder=new MediaRecorder(this.stream),this.mediaRecorder.start(),this.mediaRecorder.ondataavailable=function(t){this.chunks.push(t.data)}.bind(this)),this.step()},N.prototype.save=function(i){this.mediaRecorder.onstop=function(t){var e=new Blob(this.chunks,{type:"video/webm"});this.chunks=[],i(e)}.bind(this),this.mediaRecorder.stop()},(G.prototype=Object.create(c.prototype)).add=function(t){this.sizeSet||(this.encoder.setOption("width",t.width),this.encoder.setOption("height",t.height),this.sizeSet=!0),this.canvas.width=t.width,this.canvas.height=t.height,this.ctx.drawImage(t,0,0),this.encoder.addFrame(this.ctx,{copy:!0,delay:this.settings.step}),this.step()},G.prototype.save=function(t){this.callback=t,this.encoder.render()},(s||a||{}).CCapture=u,void 0===(g=function(){return u}.call(p,m,p,f))||(f.exports=g)}()},549:t=>{function e(e,t,i){var n,r=window,o="application/octet-stream",a=i||o,s=e,l=document,h=l.createElement("a"),i=function(t){return String(t)},c=r.Blob||r.MozBlob||r.WebKitBlob||i,e=r.MSBlobBuilder||r.WebKitBlobBuilder||r.BlobBuilder,d=t||"download";if("true"===String(this)&&(a=(s=[s,a])[0],s=s[1]),String(s).match(/^data\:[\w+\-]+\/[\w+\-]+[,;]/))return navigator.msSaveBlob?navigator.msSaveBlob(function(t){var e=t.split(/[:;,]/),t=e[1],i=("base64"==e[2]?atob:decodeURIComponent)(e.pop()),n=i.length,r=0,o=new Uint8Array(n);for(;r<n;++r)o[r]=i.charCodeAt(r);return new c([o],{type:t})}(s),d):u(s);try{n=s instanceof c?s:new c([s],{type:a})}catch(t){e&&((e=new e).append([s]),n=e.getBlob(a))}function u(t,e){if("download"in h)return h.href=t,h.setAttribute("download",d),h.innerHTML="downloading...",h.style.display="none",l.body.appendChild(h),setTimeout(function(){h.click(),l.body.removeChild(h),!0===e&&setTimeout(function(){r.URL.revokeObjectURL(h.href)},250)},66),!0;var i=l.createElement("iframe");l.body.appendChild(i),e||(t="data:"+t.replace(/^data:([\w\/\-\+]+)/,o)),i.src=t,setTimeout(function(){l.body.removeChild(i)},333)}if(navigator.msSaveBlob)return navigator.msSaveBlob(n,d);if(r.URL)u(r.URL.createObjectURL(n),!0);else{if("string"==typeof n||n.constructor===i)try{return u("data:"+a+";base64,"+r.btoa(n))}catch(t){return u("data:"+a+","+encodeURIComponent(n))}(a=new FileReader).onload=function(t){u(this.result)},a.readAsDataURL(n)}return!0}void 0!==t.exports&&(t.exports=e)},468:t=>{t.exports=function n(r,o,a){function s(i,t){if(!o[i]){if(!r[i]){if(l)return l(i,!0);var e=new Error("Cannot find module '"+i+"'");throw e.code="MODULE_NOT_FOUND",e}e=o[i]={exports:{}},r[i][0].call(e.exports,function(t){var e=r[i][1][t];return s(e||t)},e,e.exports,n,r,o,a)}return o[i].exports}for(var l=void 0,t=0;t<a.length;t++)s(a[t]);return s}({1:[function(t,e,i){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function l(t){return"function"==typeof t}function h(t){return"object"==typeof t&&null!==t}function c(t){return void 0===t}((e.exports=n).EventEmitter=n).prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,i,n,r,o,a;if(this._events||(this._events={}),"error"===t&&(!this._events.error||h(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var s=new Error('Uncaught, unspecified "error" event. ('+e+")");throw s.context=e,s}if(c(i=this._events[t]))return!1;if(l(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:r=Array.prototype.slice.call(arguments,1),i.apply(this,r)}else if(h(i))for(r=Array.prototype.slice.call(arguments,1),n=(a=i.slice()).length,o=0;o<n;o++)a[o].apply(this,r);return!0},n.prototype.on=n.prototype.addListener=function(t,e){var i;if(!l(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,l(e.listener)?e.listener:e),this._events[t]?h(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,h(this._events[t])&&!this._events[t].warned&&(i=c(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&0<i&&this._events[t].length>i&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.once=function(t,e){if(!l(e))throw TypeError("listener must be a function");var i=!1;function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var i,n,r,o;if(!l(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(r=(i=this._events[t]).length,n=-1,i===e||l(i.listener)&&i.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(h(i)){for(o=r;0<o--;)if(i[o]===e||i[o].listener&&i[o].listener===e){n=o;break}if(n<0)return this;1===i.length?(i.length=0,delete this._events[t]):i.splice(n,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(l(i=this._events[t]))this.removeListener(t,i);else if(i)for(;i.length;)this.removeListener(t,i[i.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){t=this._events&&this._events[t]?l(this._events[t])?[this._events[t]]:this._events[t].slice():[];return t},n.prototype.listenerCount=function(t){if(this._events){t=this._events[t];if(l(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},{}],2:[function(t,e,i){var n=t("./TypedNeuQuant.js"),r=t("./LZWEncoder.js");function o(){this.page=-1,this.pages=[],this.newPage()}o.pageSize=4096,o.charMap={};for(var a=0;a<256;a++)o.charMap[a]=String.fromCharCode(a);function s(t,e){this.width=~~t,this.height=~~e,this.transparent=null,this.transIndex=0,this.repeat=-1,this.delay=0,this.image=null,this.pixels=null,this.indexedPixels=null,this.colorDepth=null,this.colorTab=null,this.neuQuant=null,this.usedEntry=new Array,this.palSize=7,this.dispose=-1,this.firstFrame=!0,this.sample=10,this.dither=!1,this.globalPalette=!1,this.out=new o}o.prototype.newPage=function(){this.pages[++this.page]=new Uint8Array(o.pageSize),this.cursor=0},o.prototype.getData=function(){for(var t="",e=0;e<this.pages.length;e++)for(var i=0;i<o.pageSize;i++)t+=o.charMap[this.pages[e][i]];return t},o.prototype.writeByte=function(t){this.cursor>=o.pageSize&&this.newPage(),this.pages[this.page][this.cursor++]=t},o.prototype.writeUTFBytes=function(t){for(var e=t.length,i=0;i<e;i++)this.writeByte(t.charCodeAt(i))},o.prototype.writeBytes=function(t,e,i){for(var n=i||t.length,r=e||0;r<n;r++)this.writeByte(t[r])},s.prototype.setDelay=function(t){this.delay=Math.round(t/10)},s.prototype.setFrameRate=function(t){this.delay=Math.round(100/t)},s.prototype.setDispose=function(t){0<=t&&(this.dispose=t)},s.prototype.setRepeat=function(t){this.repeat=t},s.prototype.setTransparent=function(t){this.transparent=t},s.prototype.addFrame=function(t){this.image=t,this.colorTab=this.globalPalette&&this.globalPalette.slice?this.globalPalette:null,this.getImagePixels(),this.analyzePixels(),!0===this.globalPalette&&(this.globalPalette=this.colorTab),this.firstFrame&&(this.writeLSD(),this.writePalette(),0<=this.repeat&&this.writeNetscapeExt()),this.writeGraphicCtrlExt(),this.writeImageDesc(),this.firstFrame||this.globalPalette||this.writePalette(),this.writePixels(),this.firstFrame=!1},s.prototype.finish=function(){this.out.writeByte(59)},s.prototype.setQuality=function(t){this.sample=t=t<1?1:t},s.prototype.setDither=function(t){this.dither=t=!0===t?"FloydSteinberg":t},s.prototype.setGlobalPalette=function(t){this.globalPalette=t},s.prototype.getGlobalPalette=function(){return this.globalPalette&&this.globalPalette.slice&&this.globalPalette.slice(0)||this.globalPalette},s.prototype.writeHeader=function(){this.out.writeUTFBytes("GIF89a")},s.prototype.analyzePixels=function(){this.colorTab||(this.neuQuant=new n(this.pixels,this.sample),this.neuQuant.buildColormap(),this.colorTab=this.neuQuant.getColormap()),this.dither?this.ditherPixels(this.dither.replace("-serpentine",""),null!==this.dither.match(/-serpentine/)):this.indexPixels(),this.pixels=null,this.colorDepth=8,this.palSize=7,null!==this.transparent&&(this.transIndex=this.findClosest(this.transparent,!0))},s.prototype.indexPixels=function(t){var e=this.pixels.length/3;this.indexedPixels=new Uint8Array(e);for(var i=0,n=0;n<e;n++){var r=this.findClosestRGB(255&this.pixels[i++],255&this.pixels[i++],255&this.pixels[i++]);this.usedEntry[r]=!0,this.indexedPixels[n]=r}},s.prototype.ditherPixels=function(t,e){var i={FalseFloydSteinberg:[[3/8,1,0],[3/8,0,1],[.25,1,1]],FloydSteinberg:[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]],Stucki:[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]],Atkinson:[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]]};if(!t||!i[t])throw"Unknown dithering kernel: "+t;var n=i[t],r=0,o=this.height,a=this.width,s=this.pixels,l=e?-1:1;this.indexedPixels=new Uint8Array(this.pixels.length/3);for(var h=0;h<o;h++){e&&(l*=-1);for(var c=1==l?0:a-1,d=1==l?a:0;c!==d;c+=l){var u=s[x=3*(r=h*a+c)],f=s[1+x],p=s[2+x];x=this.findClosestRGB(u,f,p),this.usedEntry[x]=!0,this.indexedPixels[r]=x,x*=3;for(var m=u-this.colorTab[x],g=f-this.colorTab[1+x],w=p-this.colorTab[2+x],y=1==l?0:n.length-1,b=1==l?n.length:0;y!==b;y+=l){var v,x,k=n[y][1],A=n[y][2];0<=k+c&&k+c<a&&0<=A+h&&A+h<o&&(v=n[y][0],x=r+k+A*a,s[x*=3]=Math.max(0,Math.min(255,s[x]+m*v)),s[1+x]=Math.max(0,Math.min(255,s[1+x]+g*v)),s[2+x]=Math.max(0,Math.min(255,s[2+x]+w*v)))}}}},s.prototype.findClosest=function(t,e){return this.findClosestRGB((16711680&t)>>16,(65280&t)>>8,255&t,e)},s.prototype.findClosestRGB=function(t,e,i,n){if(null===this.colorTab)return-1;if(this.neuQuant&&!n)return this.neuQuant.lookupRGB(t,e,i);for(var r=0,o=16777216,a=this.colorTab.length,s=0,l=0;s<a;l++){var h=t-(255&this.colorTab[s++]),c=e-(255&this.colorTab[s++]),d=i-(255&this.colorTab[s++]),d=h*h+c*c+d*d;(!n||this.usedEntry[l])&&d<o&&(o=d,r=l)}return r},s.prototype.getImagePixels=function(){var t=this.width,e=this.height;this.pixels=new Uint8Array(t*e*3);for(var i=this.image,n=0,r=0,o=0;o<e;o++)for(var a=0;a<t;a++)this.pixels[r++]=i[n++],this.pixels[r++]=i[n++],this.pixels[r++]=i[n++],n++},s.prototype.writeGraphicCtrlExt=function(){var t,e;this.out.writeByte(33),this.out.writeByte(249),this.out.writeByte(4),e=null===this.transparent?t=0:(t=1,2),0<=this.dispose&&(e=7&this.dispose),this.out.writeByte(0|(e<<=2)|t),this.writeShort(this.delay),this.out.writeByte(this.transIndex),this.out.writeByte(0)},s.prototype.writeImageDesc=function(){this.out.writeByte(44),this.writeShort(0),this.writeShort(0),this.writeShort(this.width),this.writeShort(this.height),this.firstFrame||this.globalPalette?this.out.writeByte(0):this.out.writeByte(128|this.palSize)},s.prototype.writeLSD=function(){this.writeShort(this.width),this.writeShort(this.height),this.out.writeByte(240|this.palSize),this.out.writeByte(0),this.out.writeByte(0)},s.prototype.writeNetscapeExt=function(){this.out.writeByte(33),this.out.writeByte(255),this.out.writeByte(11),this.out.writeUTFBytes("NETSCAPE2.0"),this.out.writeByte(3),this.out.writeByte(1),this.writeShort(this.repeat),this.out.writeByte(0)},s.prototype.writePalette=function(){this.out.writeBytes(this.colorTab);for(var t=768-this.colorTab.length,e=0;e<t;e++)this.out.writeByte(0)},s.prototype.writeShort=function(t){this.out.writeByte(255&t),this.out.writeByte(t>>8&255)},s.prototype.writePixels=function(){new r(this.width,this.height,this.indexedPixels,this.colorDepth).encode(this.out)},s.prototype.stream=function(){return this.out},e.exports=s},{"./LZWEncoder.js":3,"./TypedNeuQuant.js":4}],3:[function(t,e,i){var B=5003,E=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];e.exports=function(e,i,t,n){var r,l,h,c,d,u,o=Math.max(2,n),a=new Uint8Array(256),f=new Int32Array(B),p=new Int32Array(B),s=0,m=0,g=!1;function w(t,e){a[l++]=t,254<=l&&v(e)}function y(t){for(var e=0;e<t;++e)f[e]=-1}function b(t,e){var i,n,r,o,a,s;for(g=!1,n_bits=c=t,h=x(n_bits),u=(d=1<<t-1)+1,m=d+2,l=0,r=k(),a=0,i=B;i<65536;i*=2)++a;a=8-a,y(5003),A(d,e);t:for(;-1!=(s=k());)if(f[n=s<<a^r]!==(i=(s<<12)+r)){if(0<=f[n]){o=5003-n,0===n&&(o=1);do{if((n-=o)<0&&(n+=5003),f[n]===i){r=p[n];continue t}}while(0<=f[n])}A(r,e),r=s,m<4096?(p[n]=m++,f[n]=i):(s=e,y(B),m=d+2,g=!0,A(d,s))}else r=p[n];A(r,e),A(u,e)}function v(t){0<l&&(t.writeByte(l),t.writeBytes(a,0,l),l=0)}function x(t){return(1<<t)-1}function k(){return 0===remaining?-1:(--remaining,255&t[curPixel++])}function A(t,e){for(r&=E[s],0<s?r|=t<<s:r=t,s+=n_bits;8<=s;)w(255&r,e),r>>=8,s-=8;if((h<m||g)&&(g?(h=x(n_bits=c),g=!1):(++n_bits,h=12==n_bits?4096:x(n_bits))),t==u){for(;0<s;)w(255&r,e),r>>=8,s-=8;v(e)}}this.encode=function(t){t.writeByte(o),remaining=e*i,curPixel=0,b(o+1,t),t.writeByte(0)}}},{}],4:[function(t,e,i){var B=256,E=1<<18;e.exports=function(y,b){var v,c,x,k,A;function t(){var t,e,i,n,r=y.length,o=30+(b-1)/3,a=r/(3*b),s=~~(a/100),l=1024,h=2048,c=h>>6;for(c<=1&&(c=0),w=0;w<c;w++)A[w]=l*(256*(c*c-w*w)/(c*c));for(var d,u,f,p,m=r<1509?(b=1,3):r%499!=0?1497:r%491!=0?1473:r%487!=0?1461:1509,g=0,w=0;w<a;)if(t=(255&y[g])<<4,e=(255&y[g+1])<<4,i=(255&y[g+2])<<4,n=function(t,e,i){for(var n,r=~(1<<31),o=r,a=-1,s=a,l=0;l<B;l++)n=v[l],(n=Math.abs(n[0]-t)+Math.abs(n[1]-e)+Math.abs(n[2]-i))<r&&(r=n,a=l),(n=n-(x[l]>>12))<o&&(o=n,s=l),n=k[l]>>10,k[l]-=n,x[l]+=n<<10;return k[a]+=64,x[a]-=65536,s}(t,e,i),d=l,f=e,p=i,v[u=n][0]-=d*(v[u][0]-t)/1024,v[u][1]-=d*(v[u][1]-f)/1024,v[u][2]-=d*(v[u][2]-p)/1024,0!==c&&function(t,e,i,n,r){for(var o,a,s=Math.abs(e-t),l=Math.min(e+t,B),h=e+1,c=e-1,d=1;h<l||s<c;)a=A[d++],h<l&&((o=v[h++])[0]-=a*(o[0]-i)/E,o[1]-=a*(o[1]-n)/E,o[2]-=a*(o[2]-r)/E),s<c&&((o=v[c--])[0]-=a*(o[0]-i)/E,o[1]-=a*(o[1]-n)/E,o[2]-=a*(o[2]-r)/E)}(c,n,t,e,i),r<=(g+=m)&&(g-=r),++w%(s=0===s?1:s)==0)for(l-=l/o,(c=(h-=h/30)>>6)<=1&&(c=0),n=0;n<c;n++)A[n]=l*(256*(c*c-n*n)/(c*c))}this.buildColormap=function(){!function(){var t,e;for(v=[],c=new Int32Array(256),x=new Int32Array(B),k=new Int32Array(B),A=new Int32Array(32),t=0;t<B;t++)e=(t<<12)/B,v[t]=new Float64Array([e,e,e,0]),k[t]=256,x[t]=0}(),t(),function(){for(var t=0;t<B;t++)v[t][0]>>=4,v[t][1]>>=4,v[t][2]>>=4,v[t][3]=t}(),function(){for(var t,e,i,n,r,o=0,a=0,s=0;s<B;s++){for(r=(e=v[n=s])[1],t=s+1;t<B;t++)(i=v[t])[1]<r&&(n=t,r=i[1]);if(i=v[n],s!=n&&(t=i[0],i[0]=e[0],e[0]=t,t=i[1],i[1]=e[1],e[1]=t,t=i[2],i[2]=e[2],e[2]=t,t=i[3],i[3]=e[3],e[3]=t),r!=o){for(c[o]=a+s>>1,t=o+1;t<r;t++)c[t]=s;o=r,a=s}}for(c[o]=a+255>>1,t=o+1;t<256;t++)c[t]=255}()},this.getColormap=function(){for(var t=[],e=[],i=0;i<B;i++)e[v[i][3]]=i;for(var n=0,r=0;r<B;r++){var o=e[r];t[n++]=v[o][0],t[n++]=v[o][1],t[n++]=v[o][2]}return t},this.lookupRGB=function(t,e,i){for(var n,r,o,a=1e3,s=-1,l=c[e],h=l-1;l<B||0<=h;)l<B&&(a<=(o=(r=v[l])[1]-e)?l=B:(l++,o<0&&(o=-o),(o+=n=(n=r[0]-t)<0?-n:n)<a&&(o+=n=(n=r[2]-i)<0?-n:n)<a&&(a=o,s=r[3]))),0<=h&&(a<=(o=e-(r=v[h])[1])?h=-1:(h--,o<0&&(o=-o),(o+=n=(n=r[0]-t)<0?-n:n)<a&&(o+=n=(n=r[2]-i)<0?-n:n)<a&&(a=o,s=r[3])));return s}}},{}],5:[function(t,e,i){var n=navigator.userAgent.toLowerCase(),r=navigator.platform.toLowerCase(),o=n.match(/(opera|ie|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||[null,"unknown",0],a="ie"===o[1]&&document.documentMode,r={name:"version"===o[1]?o[3]:o[1],version:a||parseFloat("opera"===o[1]&&o[4]?o[4]:o[2]),platform:{name:n.match(/ip(?:ad|od|hone)/)?"ios":(n.match(/(?:webos|android)/)||r.match(/mac|win|linux/)||["other"])[0]}};r[r.name]=!0,r[r.name+parseInt(r.version,10)]=!0,r.platform[r.platform.name]=!0,e.exports=r},{}],6:[function(t,e,i){var n,r,o,a,s={}.hasOwnProperty,l=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},h=[].slice;function c(t){var e,i,n;for(i in this.running=!1,this.options={},this.frames=[],this.freeWorkers=[],this.activeWorkers=[],this.setOptions(t),o)n=o[i],null==(e=this.options)[i]&&(e[i]=n)}n=t("events").EventEmitter,r=t("./browser.coffee"),t("./GIFEncoder.js"),t("./gif.worker.coffee"),e.exports=(function(t,e){for(var i in e)s.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(c,n),a={delay:500,copy:!(o={workerScript:"gif.worker.js",workers:2,repeat:0,background:"#fff",quality:10,width:null,height:null,transparent:null,debug:!1,dither:!1}),dispose:-1},c.prototype.setOption=function(t,e){if(this.options[t]=e,null!=this._canvas&&("width"===t||"height"===t))return this._canvas[t]=e},c.prototype.setOptions=function(t){var e,i,n=[];for(e in t)s.call(t,e)&&(i=t[e],n.push(this.setOption(e,i)));return n},c.prototype.addFrame=function(t,e){var i,n;for(n in null==e&&(e={}),(i={}).transparent=this.options.transparent,a)i[n]=e[n]||a[n];if(null==this.options.width&&this.setOption("width",t.width),null==this.options.height&&this.setOption("height",t.height),"undefined"!=typeof ImageData&&null!==ImageData&&t instanceof ImageData)i.data=t.data;else if("undefined"!=typeof CanvasRenderingContext2D&&null!==CanvasRenderingContext2D&&t instanceof CanvasRenderingContext2D||"undefined"!=typeof WebGLRenderingContext&&null!==WebGLRenderingContext&&t instanceof WebGLRenderingContext)e.copy?i.data=this.getContextData(t):i.context=t;else{if(null==t.childNodes)throw new Error("Invalid image");e.copy?i.data=this.getImageData(t):i.image=t}return this.frames.push(i)},c.prototype.render=function(){var t,e,i;if(this.running)throw new Error("Already running");if(null==this.options.width||null==this.options.height)throw new Error("Width and height must be set prior to rendering");if(this.running=!0,this.nextFrame=0,this.finishedFrames=0,this.imageParts=function(){var t,e,i=[];for(t=0,e=this.frames.length;0<=e?t<e:e<t;0<=e?++t:--t)i.push(null);return i}.call(this),e=this.spawnWorkers(),!0===this.options.globalPalette)this.renderNextFrame();else for(t=0,i=e;0<=i?t<i:i<t;0<=i?++t:--t)this.renderNextFrame();return this.emit("start"),this.emit("progress",0)},c.prototype.abort=function(){for(var t;;){if(null==(t=this.activeWorkers.shift()))break;this.log("killing active worker"),t.terminate()}return this.running=!1,this.emit("abort")},c.prototype.spawnWorkers=function(){var e,i,n,r=Math.min(this.options.workers,this.frames.length);return function(){i=[];for(var t=e=this.freeWorkers.length;e<=r?t<r:r<t;e<=r?t++:t--)i.push(t);return i}.apply(this).forEach((n=this,function(t){var e;return n.log("spawning worker "+t),(e=new Worker(n.options.workerScript)).onmessage=function(t){return n.activeWorkers.splice(n.activeWorkers.indexOf(e),1),n.freeWorkers.push(e),n.frameFinished(t.data)},n.freeWorkers.push(e)})),r},c.prototype.frameFinished=function(t){var e,i;if(this.log("frame "+t.index+" finished - "+this.activeWorkers.length+" active"),this.finishedFrames++,this.emit("progress",this.finishedFrames/this.frames.length),this.imageParts[t.index]=t,!0===this.options.globalPalette&&(this.options.globalPalette=t.globalPalette,this.log("global palette analyzed"),2<this.frames.length))for(e=1,i=this.freeWorkers.length;1<=i?e<i:i<e;1<=i?++e:--e)this.renderNextFrame();return 0<=l.call(this.imageParts,null)?this.renderNextFrame():this.finishRendering()},c.prototype.finishRendering=function(){for(var t,e,i,n,r,o,a,s,l,h,c,d,u=0,f=this.imageParts,p=0,m=f.length;p<m;p++)u+=((e=f[p]).data.length-1)*e.pageSize+e.cursor;for(u+=e.pageSize-e.cursor,this.log("rendering finished - filesize "+Math.round(u/1e3)+"kb"),t=new Uint8Array(u),r=l=0,a=(c=this.imageParts).length;r<a;r++)for(i=o=0,s=(d=(e=c[r]).data).length;o<s;i=++o)h=d[i],t.set(h,l),i===e.data.length-1?l+=e.cursor:l+=e.pageSize;return n=new Blob([t],{type:"image/gif"}),this.emit("finished",n,t)},c.prototype.renderNextFrame=function(){var t,e;if(0===this.freeWorkers.length)throw new Error("No free workers");if(!(this.nextFrame>=this.frames.length))return t=this.frames[this.nextFrame++],e=this.freeWorkers.shift(),t=this.getTask(t),this.log("starting frame "+(t.index+1)+" of "+this.frames.length),this.activeWorkers.push(e),e.postMessage(t)},c.prototype.getContextData=function(t){return t.getImageData(0,0,this.options.width,this.options.height).data},c.prototype.getImageData=function(t){var e;return null==this._canvas&&(this._canvas=document.createElement("canvas"),this._canvas.width=this.options.width,this._canvas.height=this.options.height),(e=this._canvas.getContext("2d")).setFill=this.options.background,e.fillRect(0,0,this.options.width,this.options.height),e.drawImage(t,0,0),this.getContextData(e)},c.prototype.getTask=function(t){var e=this.frames.indexOf(t),e={index:e,last:e===this.frames.length-1,delay:t.delay,dispose:t.dispose,transparent:t.transparent,width:this.options.width,height:this.options.height,quality:this.options.quality,dither:this.options.dither,globalPalette:this.options.globalPalette,repeat:this.options.repeat,canTransfer:"chrome"===r.name};if(null!=t.data)e.data=t.data;else if(null!=t.context)e.data=this.getContextData(t.context);else{if(null==t.image)throw new Error("Invalid frame");e.data=this.getImageData(t.image)}return e},c.prototype.log=function(){var t=1<=arguments.length?h.call(arguments,0):[];if(this.options.debug)return console.log.apply(console,t)},c)},{"./GIFEncoder.js":2,"./browser.coffee":5,"./gif.worker.coffee":7,events:1}],7:[function(t,e,i){var n=t("./GIFEncoder.js"),r=function(r){var o,t=new n(r.width,r.height);return 0===r.index?t.writeHeader():t.firstFrame=!1,t.setTransparent(r.transparent),t.setDispose(r.dispose),t.setRepeat(r.repeat),t.setDelay(r.delay),t.setQuality(r.quality),t.setDither(r.dither),t.setGlobalPalette(r.globalPalette),t.addFrame(r.data),r.last&&t.finish(),!0===r.globalPalette&&(r.globalPalette=t.getGlobalPalette()),t=t.stream(),r.data=t.pages,r.cursor=t.cursor,r.pageSize=t.constructor.pageSize,r.canTransfer?(t=function(){for(var t=r.data,e=[],i=0,n=t.length;i<n;i++)o=t[i],e.push(o.buffer);return e}(),self.postMessage(r,t)):self.postMessage(r)};self.onmessage=function(t){return r(t.data)}},{"./GIFEncoder.js":2}]},{},[6])(6)},617:i=>{!function(){"use strict";var a=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"];function o(t){for(var e=new Uint8Array(t),i=0;i<t;i+=1)e[i]=0;return e}window.utils={},window.utils.clean=o,window.utils.pad=function(t,e,i){return t=t.toString(i||8),"000000000000".substr(t.length+12-e)+t},window.utils.extend=function(t,e,i,n){return(n=o((parseInt((e+i)/n)+1)*n)).set(t),n},window.utils.stringToUint8=function(t,e,i){var n,r;for(e=e||o(t.length),i=i||0,n=0,r=t.length;n<r;n+=1)e[i]=t.charCodeAt(n),i+=1;return e},window.utils.uint8ToBase64=function(t){var e,i,n,r=t.length%3,o="";for(e=0,n=t.length-r;e<n;e+=3)i=(t[e]<<16)+(t[e+1]<<8)+t[e+2],o+=a[i>>18&63]+a[i>>12&63]+a[i>>6&63]+a[63&i];switch(o.length%4){case 1:o+="=";break;case 2:o+="=="}return o}}(),function(){"use strict";var e,i=window.utils;e=[{field:"fileName",length:100},{field:"fileMode",length:8},{field:"uid",length:8},{field:"gid",length:8},{field:"fileSize",length:12},{field:"mtime",length:12},{field:"checksum",length:8},{field:"type",length:1},{field:"linkName",length:100},{field:"ustar",length:8},{field:"owner",length:32},{field:"group",length:32},{field:"majorNumber",length:8},{field:"minorNumber",length:8},{field:"filenamePrefix",length:155},{field:"padding",length:12}],window.header={},window.header.structure=e,window.header.format=function(r,t){var o=i.clean(512),a=0;return e.forEach(function(t){for(var e=r[t.field]||"",i=0,n=e.length;i<n;i+=1)o[a]=e.charCodeAt(i),a+=1;a+=t.length-i}),"function"==typeof t?t(o,a):o}}(),function(){"use strict";var e,c=window.header,d=window.utils;function t(t){this.written=0,e=512*(t||20),this.out=d.clean(e),this.blocks=[],this.length=0}t.prototype.append=function(t,e,i,n){var r,o,a,s;if("string"==typeof e)e=d.stringToUint8(e);else if(e.constructor!==Uint8Array.prototype.constructor)throw"Invalid input type. You gave me: "+e.constructor.toString().match(/function\s*([$A-Za-z_][0-9A-Za-z_]*)\s*\(/)[1];"function"==typeof i&&(i={}),a=(i=i||{}).mode||4095&parseInt("777",8),h=i.mtime||Math.floor(+new Date/1e3),s=i.uid||0,l=i.gid||0,r={fileName:t,fileMode:d.pad(a,7),uid:d.pad(s,7),gid:d.pad(l,7),fileSize:d.pad(e.length,11),mtime:d.pad(h,11),checksum:"        ",type:"0",ustar:"ustar  ",owner:i.owner||"",group:i.group||""},o=0,Object.keys(r).forEach(function(t){for(var e=r[t],i=0,n=e.length;i<n;i+=1)o+=e.charCodeAt(i)}),r.checksum=d.pad(o,6)+"\0 ";var l=c.format(r),h=512*Math.ceil(l.length/512),i=512*Math.ceil(e.length/512);this.blocks.push({header:l,input:e,headerLength:h,inputLength:i})},t.prototype.save=function(){var n=[],e=[],i=0,r=Math.pow(2,20),o=[];return this.blocks.forEach(function(t){i+t.headerLength+t.inputLength>r&&(e.push({blocks:o,length:i}),o=[],i=0),o.push(t),i+=t.headerLength+t.inputLength}),e.push({blocks:o,length:i}),e.forEach(function(t){var e=new Uint8Array(t.length),i=0;t.blocks.forEach(function(t){e.set(t.header,i),i+=t.headerLength,e.set(t.input,i),i+=t.inputLength}),n.push(e)}),n.push(new Uint8Array(1024)),new Blob(n,{type:"octet/stream"})},t.prototype.clear=function(){this.written=0,this.out=d.clean(e)},void 0!==i.exports?i.exports=t:window.Tar=t}()},627:t=>{"use strict";function e(t){this.data=new Uint8Array(t),this.pos=0}e.prototype.seek=function(t){this.pos=t},e.prototype.writeBytes=function(t){for(var e=0;e<t.length;e++)this.data[this.pos++]=t[e]},e.prototype.writeU8=e.prototype.writeByte=function(t){this.data[this.pos++]=t},e.prototype.writeU16BE=function(t){this.data[this.pos++]=t>>8,this.data[this.pos++]=t},e.prototype.writeDoubleBE=function(t){for(var e=new Uint8Array(new Float64Array([t]).buffer),i=e.length-1;0<=i;i--)this.writeByte(e[i])},e.prototype.writeFloatBE=function(t){for(var e=new Uint8Array(new Float32Array([t]).buffer),i=e.length-1;0<=i;i--)this.writeByte(e[i])},e.prototype.writeString=function(t){for(var e=0;e<t.length;e++)this.data[this.pos++]=t.charCodeAt(e)},e.prototype.writeEBMLVarIntWidth=function(t,e){switch(e){case 1:this.writeU8(128|t);break;case 2:this.writeU8(64|t>>8),this.writeU8(t);break;case 3:this.writeU8(32|t>>16),this.writeU8(t>>8),this.writeU8(t);break;case 4:this.writeU8(16|t>>24),this.writeU8(t>>16),this.writeU8(t>>8),this.writeU8(t);break;case 5:this.writeU8(8|t/4294967296&7),this.writeU8(t>>24),this.writeU8(t>>16),this.writeU8(t>>8),this.writeU8(t);break;default:throw new RuntimeException("Bad EBML VINT size "+e)}},e.prototype.measureEBMLVarInt=function(t){if(t<127)return 1;if(t<16383)return 2;if(t<2097151)return 3;if(t<268435455)return 4;if(t<34359738367)return 5;throw new RuntimeException("EBML VINT size not supported "+t)},e.prototype.writeEBMLVarInt=function(t){this.writeEBMLVarIntWidth(t,this.measureEBMLVarInt(t))},e.prototype.writeUnsignedIntBE=function(t,e){switch(e=void 0===e?this.measureUnsignedInt(t):e){case 5:this.writeU8(Math.floor(t/4294967296));case 4:this.writeU8(t>>24);case 3:this.writeU8(t>>16);case 2:this.writeU8(t>>8);case 1:this.writeU8(t);break;default:throw new RuntimeException("Bad UINT size "+e)}},e.prototype.measureUnsignedInt=function(t){return t<256?1:t<65536?2:t<1<<24?3:t<4294967296?4:5},e.prototype.getAsDataArray=function(){if(this.pos<this.data.byteLength)return this.data.subarray(0,this.pos);if(this.pos==this.data.byteLength)return this.data;throw"ArrayBufferDataStream's pos lies beyond end of buffer"};function i(t){var n=[],e=Promise.resolve(),r=null,s=null;function o(n){return new Promise(function(t,e){var i=new FileReader;i.addEventListener("loadend",function(){t(i.result)}),i.readAsArrayBuffer(n)})}function l(i){return new Promise(function(t,e){i instanceof Uint8Array?t(i):i instanceof ArrayBuffer||ArrayBuffer.isView(i)?t(new Uint8Array(i)):i instanceof Blob?t(o(i).then(function(t){return new Uint8Array(t)})):t(o(new Blob([i])).then(function(t){return new Uint8Array(t)}))})}"undefined"!=typeof FileWriter&&t instanceof FileWriter&&(r=t),this.pos=0,this.length=0,this.seek=function(t){if(t<0)throw"Offset may not be negative";if(isNaN(t))throw"Offset may not be NaN";if(t>this.length)throw"Seeking beyond the end of file is not allowed";this.pos=t},this.write=function(t){var a={offset:this.pos,data:t,length:function(t){if(t=t.byteLength||t.length||t.size,!Number.isInteger(t))throw"Failed to determine size of element";return t}(t)},i=a.offset>=this.length;this.pos+=a.length,this.length=Math.max(this.length,this.pos),e=e.then(function(){if(s)return new Promise(function(o,t){l(a.data).then(function(t){function n(t,e,i){(r+=e)>=i.length?o():null.write(s,i,r,i.length-r,a.offset+r,n)}var r=0,t=Buffer.from(t.buffer);null.write(s,t,0,t.length,a.offset,n)})});if(r)return new Promise(function(t,e){r.onwriteend=t,r.seek(a.offset),r.write(new Blob([a.data]))});if(!i)for(var t=0;t<n.length;t++){var e=n[t];if(!(a.offset+a.length<=e.offset||a.offset>=e.offset+e.length)){if(a.offset<e.offset||a.offset+a.length>e.offset+e.length)throw new Error("Overwrite crosses blob boundaries");return a.offset==e.offset&&a.length==e.length?void(e.data=a.data):l(e.data).then(function(t){return e.data=t,l(a.data)}).then(function(t){a.data=t,e.data.set(a.data,a.offset-e.offset)})}}n.push(a)})},this.complete=function(i){return e=s||r?e.then(function(){return null}):e.then(function(){for(var t=[],e=0;e<n.length;e++)t.push(n[e].data);return new Blob(t,{mimeType:i})})}}function n(v,t){function x(t,e){e=t.toDataURL("image/webp",{quality:e});return!("string"!=typeof(e=e)||!e.match(/^data:image\/webp;base64,/i))&&window.atob(e.substring("data:image/webp;base64,".length))}function k(t){this.value=t}function A(t,e,i){if(Array.isArray(i))for(var n=0;n<i.length;n++)A(t,e,i[n]);else if("string"==typeof i)t.writeString(i);else if(i instanceof Uint8Array)t.writeBytes(i);else{if(!i.id)throw"Bad EBML datatype "+typeof i.data;var r,o,a;if(i.offset=t.pos+e,t.writeUnsignedIntBE(i.id),Array.isArray(i.data))-1===i.size?t.writeByte(255):(r=t.pos,t.writeBytes([0,0,0,0])),o=t.pos,i.dataOffset=o+e,A(t,e,i.data),-1!==i.size&&(a=t.pos,i.size=a-o,t.seek(r),t.writeEBMLVarIntWidth(i.size,4),t.seek(a));else if("string"==typeof i.data)t.writeEBMLVarInt(i.data.length),i.dataOffset=t.pos+e,t.writeString(i.data);else if("number"==typeof i.data)i.size||(i.size=t.measureUnsignedInt(i.data)),t.writeEBMLVarInt(i.size),i.dataOffset=t.pos+e,t.writeUnsignedIntBE(i.data,i.size);else if(i.data instanceof k)t.writeEBMLVarInt(8),i.dataOffset=t.pos+e,t.writeDoubleBE(i.data.value);else if(i.data instanceof function(t){this.value=t})t.writeEBMLVarInt(4),i.dataOffset=t.pos+e,t.writeFloatBE(i.data.value);else{if(!(i.data instanceof Uint8Array))throw"Bad EBML datatype "+typeof i.data;t.writeEBMLVarInt(i.data.byteLength),i.dataOffset=t.pos+e,t.writeBytes(i.data)}}}return function(e){var n,r,o,a,i,s=5e3,l=1,h=!1,c=[],d=0,u=0,f={Cues:{id:new Uint8Array([28,83,187,107]),positionEBML:null},SegmentInfo:{id:new Uint8Array([21,73,169,102]),positionEBML:null},Tracks:{id:new Uint8Array([22,84,174,107]),positionEBML:null}},p={id:17545,data:new k(0)},m=[],g=new t(e.fileWriter||e.fd);function w(t){return t-o.dataOffset}function y(){a=function(){var t,e={id:21420,size:5,data:0},i={id:290298740,data:[]};for(t in f){var n=f[t];n.positionEBML=Object.create(e),i.data.push({id:19899,data:[{id:21419,data:n.id},n.positionEBML]})}return i}();var t={id:357149030,data:[{id:2807729,data:1e6},{id:19840,data:"webm-writer-js"},{id:22337,data:"webm-writer-js"},p]},e={id:374648427,data:[{id:174,data:[{id:215,data:l},{id:29637,data:l},{id:156,data:0},{id:2274716,data:"und"},{id:134,data:"V_VP8"},{id:2459272,data:"VP8"},{id:131,data:1},{id:224,data:[{id:176,data:n},{id:186,data:r}]}]}]};o={id:408125543,size:-1,data:[a,t,e]};var i=new v(256);A(i,g.pos,[{id:440786851,data:[{id:17030,data:1},{id:17143,data:1},{id:17138,data:4},{id:17139,data:8},{id:17026,data:"webm"},{id:17031,data:2},{id:17029,data:2}]},o]),g.write(i.getAsDataArray()),f.SegmentInfo.positionEBML.data=w(t.offset),f.Tracks.positionEBML.data=w(e.offset)}function b(){if(0!=c.length){for(var t=0,e=0;e<c.length;e++)t+=c[e].frame.length;for(var i,n,r=new v(t+32*c.length),o=(n={timecode:Math.round(d)},{id:524531317,data:[{id:231,data:Math.round(n.timecode)}]}),e=0;e<c.length;e++)o.data.push(function(t){var e=new v(4);if(!(0<t.trackNumber&&t.trackNumber<127))throw"TrackNumber must be > 0 and < 127";return e.writeEBMLVarInt(t.trackNumber),e.writeU16BE(t.timecode),e.writeByte(128),{id:163,data:[e.getAsDataArray(),t.frame]}}(c[e]));A(r,g.pos,o),g.write(r.getAsDataArray()),i=l,n=Math.round(d),r=o.offset,m.push({id:187,data:[{id:179,data:n},{id:183,data:[{id:247,data:i},{id:241,data:w(r)}]}]}),c=[],d+=u,u=0}}this.addFrame=function(t){if(h){if(t.width!=n||t.height!=r)throw"Frame size differs from previous frames"}else n=t.width,r=t.height,y(),h=!0;t=x(t,{quality:e.quality});if(!t)throw"Couldn't decode WebP frame, does the browser support WebP?";(t={frame:function(t){var e=t.indexOf("VP8 ");if(-1==e)throw"Failed to identify beginning of keyframe in WebP image";return t.substring(e+="VP8 ".length+4)}(t),duration:e.frameDuration}).trackNumber=l,t.timecode=Math.round(u),c.push(t),u+=t.duration,s<=u&&b()},this.complete=function(){var t,e;return b(),e={id:475249515,data:m},A(t=new v(16+32*m.length),g.pos,e),g.write(t.getAsDataArray()),f.Cues.positionEBML.data=w(e.offset),t=new v(a.size),e=g.pos,A(t,a.dataOffset,a.data),g.seek(a.dataOffset),g.write(t.getAsDataArray()),g.seek(e),t=new v(8),e=g.pos,t.writeDoubleBE(d),g.seek(p.dataOffset),g.write(t.getAsDataArray()),g.seek(e),g.complete("video/webm")},this.getWrittenSize=function(){return g.length},i={},[{quality:.95,fileWriter:null,fd:null,frameDuration:null,frameRate:null},e||{}].forEach(function(t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(i[e]=t[e])}),e=i,function(){if(!e.frameDuration){if(!e.frameRate)throw"Missing required frameDuration or frameRate setting";e.frameDuration=1e3/e.frameRate}}()}}void 0!==t.exports?t.exports=n(e,i):window.WebMWriter=n(e,i)},809:(t,e)=>{"use strict";function a(t){var e=-1;n=n||function(){for(var t=new Int32Array(256),e=0;e<256;e++){for(var i=e,n=0;n<8;n++)i=1&i?3988292384^i>>>1:i>>>1;t[e]=i}return t}();for(var i=0;i<t.length;i++)e=n[255&(e^t[i])]^e>>>8;return-1^e}Object.defineProperty(e,"__esModule",{value:!0}),e.changeDpiBlob=function(r,o){var e=r.slice(0,33);return new Promise(function(i,t){var n=new FileReader;n.onload=function(){var t=new Uint8Array(n.result),e=r.slice(33),t=g(t,o,r.type);i(new Blob([t,e],{type:r.type}))},n.readAsArrayBuffer(e)})},e.changeDpiDataUrl=function(t,e){var i=t.split(","),n=i[0],r=i[1],o=void 0,t=void 0,i=!1;-1!==n.indexOf(c)&&(o=c,0<=(a=function(t){var e=t.indexOf(u);-1===e&&(e=t.indexOf(f));-1===e&&(e=t.indexOf(p));return e}(r))?(t=4*Math.ceil((a+28)/3),i=!0):t=44);-1!==n.indexOf(d)&&(o=d,t=24);for(var a=r.substring(0,t),t=r.substring(t),s=atob(a),l=new Uint8Array(s.length),h=0;h<l.length;h++)l[h]=s.charCodeAt(h);i=g(l,e,o,i),i=btoa(String.fromCharCode.apply(String,function(t){{if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}}(i)));return[n,",",i,t].join("")};var n=void 0,c="image/png",d="image/jpeg",u="AAlwSFlz",f="AAAJcEhZ",p="AAAACXBI",s="p".charCodeAt(0),l="H".charCodeAt(0),h="Y".charCodeAt(0),m="s".charCodeAt(0);function g(t,e,i,n){if(i===d)return t[13]=1,t[14]=e>>8,t[15]=255&e,t[16]=e>>8,t[17]=255&e,t;if(i===c){var r=new Uint8Array(13);e*=39.3701,r[0]=s,r[1]=l,r[2]=h,r[3]=m,r[4]=e>>>24,r[5]=e>>>16,r[6]=e>>>8,r[7]=255&e,r[8]=r[4],r[9]=r[5],r[10]=r[6],r[11]=r[7],r[12]=1;i=a(r),e=new Uint8Array(4);if(e[0]=i>>>24,e[1]=i>>>16,e[2]=i>>>8,e[3]=255&i,n){var o=function(t){for(var e=t.length-1;4<=e;e--)if(9===t[e-4]&&t[e-3]===s&&t[e-2]===l&&t[e-1]===h&&t[e]===m)return e-3}(t);return t.set(r,o),t.set(e,o+13),t}n=new Uint8Array(4);n[0]=0,n[1]=0,n[2]=0,n[3]=9;o=new Uint8Array(54);return o.set(t,0),o.set(n,33),o.set(r,37),o.set(e,50),o}}},162:function(t,e,i){var n;void 0===(n="function"==typeof(n=function(){"use strict";function r(t,e){return"undefined"==typeof e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}function c(t,e,i){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){s(n.response,e,i)},n.onerror=function(){console.error("could not download file")},n.send()}function o(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function a(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(i)}}var d="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof i.g&&i.g.global===i.g?i.g:void 0,u=d.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=d.saveAs||("object"!=typeof window||window!==d?function(){}:"download"in HTMLAnchorElement.prototype&&!u?function(t,e,i){var n=d.URL||d.webkitURL,r=document.createElement("a");e=e||t.name||"download",r.download=e,r.rel="noopener","string"==typeof t?(r.href=t,r.origin===location.origin?a(r):o(r.href)?c(t,e,i):a(r,r.target="_blank")):(r.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(r.href)},4e4),setTimeout(function(){a(r)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,i){if(e=e||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(r(t,i),e);else if(o(t))c(t,e,i);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){a(n)})}}:function(t,e,i,n){if(n=n||open("","_blank"),n&&(n.document.title=n.document.body.innerText="downloading..."),"string"==typeof t)return c(t,e,i);var r="application/octet-stream"===t.type,o=/constructor/i.test(d.HTMLElement)||d.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||r&&o||u)&&"undefined"!=typeof FileReader){var s=new FileReader;s.onloadend=function(){var t=s.result;t=a?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=t:location=t,n=null},s.readAsDataURL(t)}else{var l=d.URL||d.webkitURL,h=l.createObjectURL(t);n?n.location=h:location.href=h,n=null,setTimeout(function(){l.revokeObjectURL(h)},4e4)}});d.saveAs=s.saveAs=s,true&&(t.exports=s)})?n.apply(e,[]):n)||(t.exports=n)},650:(t,e,i)=>{"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function f(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return r(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(i="Object"===i&&t.constructor?t.constructor.name:i)||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}i.r(e),i.d(e,{default:()=>a});var o,s,l,h,c,e=(o=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],s=function(){function u(t){var e=t.targetModal,i=t.triggers,n=void 0===i?[]:i,r=t.onShow,o=void 0===r?function(){}:r,a=t.onClose,s=void 0===a?function(){}:a,l=t.openTrigger,h=void 0===l?"data-micromodal-trigger":l,c=t.closeTrigger,d=void 0===c?"data-micromodal-close":c,i=t.openClass,r=void 0===i?"is-open":i,a=t.disableScroll,l=void 0!==a&&a,c=t.disableFocus,i=void 0!==c&&c,a=t.awaitCloseAnimation,c=void 0!==a&&a,a=t.awaitOpenAnimation,a=void 0!==a&&a,t=t.debugMode,t=void 0!==t&&t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),this.modal=document.getElementById(e),this.config={debugMode:t,disableScroll:l,openTrigger:h,closeTrigger:d,openClass:r,onShow:o,onClose:s,awaitCloseAnimation:c,awaitOpenAnimation:a,disableFocus:i},0<n.length&&this.registerTriggers.apply(this,f(n)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}var t,e,i;return t=u,(e=[{key:"registerTriggers",value:function(){for(var e=this,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];i.filter(Boolean).forEach(function(t){t.addEventListener("click",function(t){return e.showModal(t)})})}},{key:"showModal",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation?this.modal.addEventListener("animationend",function t(){e.modal.removeEventListener("animationend",t,!1),e.setFocusToFirstNode()},!1):this.setFocusToFirstNode(),this.config.onShow(this.modal,this.activeElement,t)}},{key:"closeModal",value:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,i=this.modal;this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,t),this.config.awaitCloseAnimation?(e=this.config.openClass,this.modal.addEventListener("animationend",function t(){i.classList.remove(e),i.removeEventListener("animationend",t,!1)},!1)):i.classList.remove(this.config.openClass)}},{key:"closeModalById",value:function(t){this.modal=document.getElementById(t),this.modal&&this.closeModal()}},{key:"scrollBehaviour",value:function(t){if(this.config.disableScroll){var e=document.querySelector("body");switch(t){case"enable":Object.assign(e.style,{overflow:""});break;case"disable":Object.assign(e.style,{overflow:"hidden"})}}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(t){t.target.hasAttribute(this.config.closeTrigger)&&this.closeModal(t)}},{key:"onKeydown",value:function(t){27===t.keyCode&&this.closeModal(t),9===t.keyCode&&this.retainFocus(t)}},{key:"getFocusableNodes",value:function(){var t=this.modal.querySelectorAll(o);return Array.apply(void 0,f(t))}},{key:"setFocusToFirstNode",value:function(){var t,e,i=this;this.config.disableFocus||0!==(t=this.getFocusableNodes()).length&&(0<(e=t.filter(function(t){return!t.hasAttribute(i.config.closeTrigger)})).length&&e[0].focus(),0===e.length&&t[0].focus())}},{key:"retainFocus",value:function(t){var e,i=this.getFocusableNodes();0!==i.length&&(i=i.filter(function(t){return null!==t.offsetParent}),this.modal.contains(document.activeElement)?(e=i.indexOf(document.activeElement),t.shiftKey&&0===e&&(i[i.length-1].focus(),t.preventDefault()),!t.shiftKey&&0<i.length&&e===i.length-1&&(i[0].focus(),t.preventDefault())):i[0].focus())}}])&&n(t.prototype,e),i&&n(t,i),u}(),l=null,h=function(t){if(!document.getElementById(t))return console.warn("MicroModal: ❗Seems like you have missed %c'".concat(t,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'.concat(t,'"></div>')),!1},c=function(t){if(t.length<=0)return console.warn("MicroModal: ❗Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>'),!1},{init:function(t){var i,n,e=Object.assign({},{openTrigger:"data-micromodal-trigger"},t),t=f(document.querySelectorAll("[".concat(e.openTrigger,"]"))),r=(i=e.openTrigger,n=[],t.forEach(function(t){var e=t.attributes[i].value;void 0===n[e]&&(n[e]=[]),n[e].push(t)}),n);if(!0!==e.debugMode||!1!==function(t,e){if(c(t),!e)return!0;for(var i in e)h(i);return!0}(t,r))for(var o in r){var a=r[o];e.targetModal=o,e.triggers=f(a),l=new s(e)}},show:function(t,e){e=e||{};e.targetModal=t,!0===e.debugMode&&!1===h(t)||(l&&l.removeEventListeners(),(l=new s(e)).showModal())},close:function(t){t?l.closeModalById(t):l.closeModal()}});const a=window.MicroModal=e},10:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.workerString=void 0,e.workerString="(function(b){function a(b,d){if({}.hasOwnProperty.call(a.cache,b))return a.cache[b];var e=a.resolve(b);if(!e)throw new Error('Failed to resolve module '+b);var c={id:b,require:a,filename:b,exports:{},loaded:!1,parent:d,children:[]};d&&d.children.push(c);var f=b.slice(0,b.lastIndexOf('/')+1);return a.cache[b]=c.exports,e.call(c.exports,c,c.exports,f,b),c.loaded=!0,a.cache[b]=c.exports}a.modules={},a.cache={},a.resolve=function(b){return{}.hasOwnProperty.call(a.modules,b)?a.modules[b]:void 0},a.define=function(b,c){a.modules[b]=c},a.define('/gif.worker.coffee',function(d,e,f,g){var b,c;b=a('/GIFEncoder.js',d),c=function(a){var c,e,d,f;return c=new b(a.width,a.height),a.index===0?c.writeHeader():c.firstFrame=!1,c.setTransparent(a.transparent),c.setRepeat(a.repeat),c.setDelay(a.delay),c.setQuality(a.quality),c.addFrame(a.data),a.last&&c.finish(),d=c.stream(),a.data=d.pages,a.cursor=d.cursor,a.pageSize=d.constructor.pageSize,a.canTransfer?(f=function(c){for(var b=0,d=a.data.length;b<d;++b)e=a.data[b],c.push(e.buffer);return c}.call(this,[]),self.postMessage(a,f)):self.postMessage(a)},self.onmessage=function(a){return c(a.data)}}),a.define('/GIFEncoder.js',function(e,h,i,j){function c(){this.page=-1,this.pages=[],this.newPage()}function b(a,b){this.width=~~a,this.height=~~b,this.transparent=null,this.transIndex=0,this.repeat=-1,this.delay=0,this.image=null,this.pixels=null,this.indexedPixels=null,this.colorDepth=null,this.colorTab=null,this.usedEntry=new Array,this.palSize=7,this.dispose=-1,this.firstFrame=!0,this.sample=10,this.out=new c}var f=a('/TypedNeuQuant.js',e),g=a('/LZWEncoder.js',e);c.pageSize=4096,c.charMap={};for(var d=0;d<256;d++)c.charMap[d]=String.fromCharCode(d);c.prototype.newPage=function(){this.pages[++this.page]=new Uint8Array(c.pageSize),this.cursor=0},c.prototype.getData=function(){var d='';for(var a=0;a<this.pages.length;a++)for(var b=0;b<c.pageSize;b++)d+=c.charMap[this.pages[a][b]];return d},c.prototype.writeByte=function(a){this.cursor>=c.pageSize&&this.newPage(),this.pages[this.page][this.cursor++]=a},c.prototype.writeUTFBytes=function(b){for(var c=b.length,a=0;a<c;a++)this.writeByte(b.charCodeAt(a))},c.prototype.writeBytes=function(b,d,e){for(var c=e||b.length,a=d||0;a<c;a++)this.writeByte(b[a])},b.prototype.setDelay=function(a){this.delay=Math.round(a/10)},b.prototype.setFrameRate=function(a){this.delay=Math.round(100/a)},b.prototype.setDispose=function(a){a>=0&&(this.dispose=a)},b.prototype.setRepeat=function(a){this.repeat=a},b.prototype.setTransparent=function(a){this.transparent=a},b.prototype.addFrame=function(a){this.image=a,this.getImagePixels(),this.analyzePixels(),this.firstFrame&&(this.writeLSD(),this.writePalette(),this.repeat>=0&&this.writeNetscapeExt()),this.writeGraphicCtrlExt(),this.writeImageDesc(),this.firstFrame||this.writePalette(),this.writePixels(),this.firstFrame=!1},b.prototype.finish=function(){this.out.writeByte(59)},b.prototype.setQuality=function(a){a<1&&(a=1),this.sample=a},b.prototype.writeHeader=function(){this.out.writeUTFBytes('GIF89a')},b.prototype.analyzePixels=function(){var g=this.pixels.length,d=g/3;this.indexedPixels=new Uint8Array(d);var a=new f(this.pixels,this.sample);a.buildColormap(),this.colorTab=a.getColormap();var b=0;for(var c=0;c<d;c++){var e=a.lookupRGB(this.pixels[b++]&255,this.pixels[b++]&255,this.pixels[b++]&255);this.usedEntry[e]=!0,this.indexedPixels[c]=e}this.pixels=null,this.colorDepth=8,this.palSize=7,this.transparent!==null&&(this.transIndex=this.findClosest(this.transparent))},b.prototype.findClosest=function(e){if(this.colorTab===null)return-1;var k=(e&16711680)>>16,l=(e&65280)>>8,m=e&255,c=0,d=16777216,j=this.colorTab.length;for(var a=0;a<j;){var f=k-(this.colorTab[a++]&255),g=l-(this.colorTab[a++]&255),h=m-(this.colorTab[a]&255),i=f*f+g*g+h*h,b=parseInt(a/3);this.usedEntry[b]&&i<d&&(d=i,c=b),a++}return c},b.prototype.getImagePixels=function(){var a=this.width,g=this.height;this.pixels=new Uint8Array(a*g*3);var b=this.image,c=0;for(var d=0;d<g;d++)for(var e=0;e<a;e++){var f=d*a*4+e*4;this.pixels[c++]=b[f],this.pixels[c++]=b[f+1],this.pixels[c++]=b[f+2]}},b.prototype.writeGraphicCtrlExt=function(){this.out.writeByte(33),this.out.writeByte(249),this.out.writeByte(4);var b,a;this.transparent===null?(b=0,a=0):(b=1,a=2),this.dispose>=0&&(a=dispose&7),a<<=2,this.out.writeByte(0|a|0|b),this.writeShort(this.delay),this.out.writeByte(this.transIndex),this.out.writeByte(0)},b.prototype.writeImageDesc=function(){this.out.writeByte(44),this.writeShort(0),this.writeShort(0),this.writeShort(this.width),this.writeShort(this.height),this.firstFrame?this.out.writeByte(0):this.out.writeByte(128|this.palSize)},b.prototype.writeLSD=function(){this.writeShort(this.width),this.writeShort(this.height),this.out.writeByte(240|this.palSize),this.out.writeByte(0),this.out.writeByte(0)},b.prototype.writeNetscapeExt=function(){this.out.writeByte(33),this.out.writeByte(255),this.out.writeByte(11),this.out.writeUTFBytes('NETSCAPE2.0'),this.out.writeByte(3),this.out.writeByte(1),this.writeShort(this.repeat),this.out.writeByte(0)},b.prototype.writePalette=function(){this.out.writeBytes(this.colorTab);var b=768-this.colorTab.length;for(var a=0;a<b;a++)this.out.writeByte(0)},b.prototype.writeShort=function(a){this.out.writeByte(a&255),this.out.writeByte(a>>8&255)},b.prototype.writePixels=function(){var a=new g(this.width,this.height,this.indexedPixels,this.colorDepth);a.encode(this.out)},b.prototype.stream=function(){return this.out},e.exports=b}),a.define('/LZWEncoder.js',function(e,g,h,i){function f(y,D,C,B){function w(a,b){r[f++]=a,f>=254&&t(b)}function x(b){u(a),k=i+2,j=!0,l(i,b)}function u(b){for(var a=0;a<b;++a)h[a]=-1}function A(z,r){var g,t,d,e,y,w,s;for(q=z,j=!1,n_bits=q,m=p(n_bits),i=1<<z-1,o=i+1,k=i+2,f=0,e=v(),s=0,g=a;g<65536;g*=2)++s;s=8-s,w=a,u(w),l(i,r);a:while((t=v())!=c){if(g=(t<<b)+e,d=t<<s^e,h[d]===g){e=n[d];continue}if(h[d]>=0){y=w-d,d===0&&(y=1);do if((d-=y)<0&&(d+=w),h[d]===g){e=n[d];continue a}while(h[d]>=0)}l(e,r),e=t,k<1<<b?(n[d]=k++,h[d]=g):x(r)}l(e,r),l(o,r)}function z(a){a.writeByte(s),remaining=y*D,curPixel=0,A(s+1,a),a.writeByte(0)}function t(a){f>0&&(a.writeByte(f),a.writeBytes(r,0,f),f=0)}function p(a){return(1<<a)-1}function v(){if(remaining===0)return c;--remaining;var a=C[curPixel++];return a&255}function l(a,c){g&=d[e],e>0?g|=a<<e:g=a,e+=n_bits;while(e>=8)w(g&255,c),g>>=8,e-=8;if((k>m||j)&&(j?(m=p(n_bits=q),j=!1):(++n_bits,n_bits==b?m=1<<b:m=p(n_bits))),a==o){while(e>0)w(g&255,c),g>>=8,e-=8;t(c)}}var s=Math.max(2,B),r=new Uint8Array(256),h=new Int32Array(a),n=new Int32Array(a),g,e=0,f,k=0,m,j=!1,q,i,o;this.encode=z}var c=-1,b=12,a=5003,d=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];e.exports=f}),a.define('/TypedNeuQuant.js',function(A,F,E,D){function C(A,B){function I(){o=[],q=new Int32Array(256),t=new Int32Array(a),y=new Int32Array(a),z=new Int32Array(a>>3);var c,d;for(c=0;c<a;c++)d=(c<<b+8)/a,o[c]=new Float64Array([d,d,d,0]),y[c]=e/a,t[c]=0}function J(){for(var c=0;c<a;c++)o[c][0]>>=b,o[c][1]>>=b,o[c][2]>>=b,o[c][3]=c}function K(b,a,c,e,f){o[a][0]-=b*(o[a][0]-c)/d,o[a][1]-=b*(o[a][1]-e)/d,o[a][2]-=b*(o[a][2]-f)/d}function L(j,e,n,l,k){var h=Math.abs(e-j),i=Math.min(e+j,a),g=e+1,f=e-1,m=1,b,d;while(g<i||f>h)d=z[m++],g<i&&(b=o[g++],b[0]-=d*(b[0]-n)/c,b[1]-=d*(b[1]-l)/c,b[2]-=d*(b[2]-k)/c),f>h&&(b=o[f--],b[0]-=d*(b[0]-n)/c,b[1]-=d*(b[1]-l)/c,b[2]-=d*(b[2]-k)/c)}function C(p,s,q){var h=2147483647,k=h,d=-1,m=d,c,j,e,n,l;for(c=0;c<a;c++)j=o[c],e=Math.abs(j[0]-p)+Math.abs(j[1]-s)+Math.abs(j[2]-q),e<h&&(h=e,d=c),n=e-(t[c]>>i-b),n<k&&(k=n,m=c),l=y[c]>>g,y[c]-=l,t[c]+=l<<f;return y[d]+=x,t[d]-=r,m}function D(){var d,b,e,c,h,g,f=0,i=0;for(d=0;d<a;d++){for(e=o[d],h=d,g=e[1],b=d+1;b<a;b++)c=o[b],c[1]<g&&(h=b,g=c[1]);if(c=o[h],d!=h&&(b=c[0],c[0]=e[0],e[0]=b,b=c[1],c[1]=e[1],e[1]=b,b=c[2],c[2]=e[2],e[2]=b,b=c[3],c[3]=e[3],e[3]=b),g!=f){for(q[f]=i+d>>1,b=f+1;b<g;b++)q[b]=d;f=g,i=d}}for(q[f]=i+n>>1,b=f+1;b<256;b++)q[b]=n}function E(j,i,k){var b,d,c,e=1e3,h=-1,f=q[i],g=f-1;while(f<a||g>=0)f<a&&(d=o[f],c=d[1]-i,c>=e?f=a:(f++,c<0&&(c=-c),b=d[0]-j,b<0&&(b=-b),c+=b,c<e&&(b=d[2]-k,b<0&&(b=-b),c+=b,c<e&&(e=c,h=d[3])))),g>=0&&(d=o[g],c=i-d[1],c>=e?g=-1:(g--,c<0&&(c=-c),b=d[0]-j,b<0&&(b=-b),c+=b,c<e&&(b=d[2]-k,b<0&&(b=-b),c+=b,c<e&&(e=c,h=d[3]))));return h}function F(){var c,f=A.length,D=30+(B-1)/3,y=f/(3*B),q=~~(y/w),n=d,o=u,a=o>>h;for(a<=1&&(a=0),c=0;c<a;c++)z[c]=n*((a*a-c*c)*m/(a*a));var i;f<s?(B=1,i=3):f%l!==0?i=3*l:f%k!==0?i=3*k:f%p!==0?i=3*p:i=3*j;var r,t,x,e,g=0;c=0;while(c<y)if(r=(A[g]&255)<<b,t=(A[g+1]&255)<<b,x=(A[g+2]&255)<<b,e=C(r,t,x),K(n,e,r,t,x),a!==0&&L(a,e,r,t,x),g+=i,g>=f&&(g-=f),c++,q===0&&(q=1),c%q===0)for(n-=n/D,o-=o/v,a=o>>h,a<=1&&(a=0),e=0;e<a;e++)z[e]=n*((a*a-e*e)*m/(a*a))}function G(){I(),F(),J(),D()}function H(){var b=[],g=[];for(var c=0;c<a;c++)g[o[c][3]]=c;var d=0;for(var e=0;e<a;e++){var f=g[e];b[d++]=o[f][0],b[d++]=o[f][1],b[d++]=o[f][2]}return b}var o,q,t,y,z;this.buildColormap=G,this.getColormap=H,this.lookupRGB=E}var w=100,a=256,n=a-1,b=4,i=16,e=1<<i,f=10,B=1<<f,g=10,x=e>>g,r=e<<f-g,z=a>>3,h=6,t=1<<h,u=z*t,v=30,o=10,d=1<<o,q=8,m=1<<q,y=o+q,c=1<<y,l=499,k=491,p=487,j=503,s=3*j;A.exports=C}),a('/gif.worker.coffee')}.call(this,this))//# sourceMappingURL=gif.worker.js.map"},713:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.css=void 0,e.css='\n/**************************  Basic Modal Styles\n**************************/\n\n.modal {\n  font-family: -apple-system,BlinkMacSystemFont,avenir next,avenir,helvetica neue,helvetica,ubuntu,roboto,noto,segoe ui,arial,sans-serif;\n}\n\n.modal__overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0,0,0,0.6);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.modal__container {\n  background-color: #fff;\n  padding: 30px;\n  max-width: 500px;\n  max-height: 100vh;\n  overflow-y: auto;\n  box-sizing: border-box;\n}\n\n.modal__header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.modal__title {\n  margin-top: 0;\n  margin-bottom: 0;\n  font-weight: 600;\n  font-size: 1.25rem;\n  line-height: 1.25;\n  color: #222;\n  box-sizing: border-box;\n}\n\n.modal__footer {\n  text-align: right;\n}\n\n.modal__footer>.modal__btn {\n  margin-right: 8px;\n}\n\n.modal__close {\n  background: transparent;\n  border: 0;\n}\n\n.modal__header .modal__close:before { content: "✕"; }\n\n.modal__content {\n  margin-top: 2rem;\n  margin-bottom: 2rem;\n  line-height: 1.5;\n  color: rgba(0,0,0,.8);\n}\n\n.modal__btn {\n  font-size: .875rem;\n  padding-left: 1rem;\n  padding-right: 1rem;\n  padding-top: .5rem;\n  padding-bottom: .5rem;\n  background-color: #e6e6e6;\n  color: rgba(0,0,0,.8);\n  border-radius: .25rem;\n  border-style: none;\n  border-width: 0;\n  cursor: pointer;\n  -webkit-appearance: button;\n  text-transform: none;\n  overflow: visible;\n  line-height: 1.15;\n  margin: 0;\n  will-change: transform;\n  -moz-osx-font-smoothing: grayscale;\n  -webkit-backface-visibility: hidden;\n  backface-visibility: hidden;\n  -webkit-transform: translateZ(0);\n  transform: translateZ(0);\n  transition: -webkit-transform .25s ease-out;\n  transition: transform .25s ease-out;\n  transition: transform .25s ease-out,-webkit-transform .25s ease-out;\n}\n\n.modal__btn:focus, .modal__btn:hover {\n  -webkit-transform: scale(1.05);\n  transform: scale(1.05);\n}\n\n.modal__btn-primary {\n  background-color: #333;\n  color: #fff;\n}\n\n\n\n/**************************  Demo Animation Style\n**************************/\n@keyframes mmfadeIn {\n    from { opacity: 0; }\n      to { opacity: 1; }\n}\n\n@keyframes mmfadeOut {\n    from { opacity: 1; }\n      to { opacity: 0; }\n}\n\n@keyframes mmslideIn {\n  from { transform: translateY(15%); }\n    to { transform: translateY(0); }\n}\n\n@keyframes mmslideOut {\n    from { transform: translateY(0); }\n    to { transform: translateY(-10%); }\n}\n\n.micromodal-slide {\n  display: none;\n}\n\n.micromodal-slide.is-open {\n  display: block;\n}\n\n.micromodal-slide[aria-hidden="false"] .modal__overlay {\n  animation: mmfadeIn .3s cubic-bezier(0.0, 0.0, 0.2, 1);\n}\n\n.micromodal-slide[aria-hidden="false"] .modal__container {\n  animation: mmslideIn .3s cubic-bezier(0, 0, .2, 1);\n}\n\n.micromodal-slide[aria-hidden="true"] .modal__overlay {\n  animation: mmfadeOut .3s cubic-bezier(0.0, 0.0, 0.2, 1);\n}\n\n.micromodal-slide[aria-hidden="true"] .modal__container {\n  animation: mmslideOut .3s cubic-bezier(0, 0, .2, 1);\n}\n\n.micromodal-slide .modal__container,\n.micromodal-slide .modal__overlay {\n  will-change: transform;\n}\n'},330:function(t,e,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.showDot=e.initDotWithCSS=e.showDialog=e.showAlert=e.PARAMS=void 0;var r=i(650),o=i(713);e.PARAMS={SHOW_ALERTS:!1,SHOW_DIALOGS:!1,SHOW_REC_DOT:!0};i=document.createElement("style");function a(t,e,i){t='<div class="modal micromodal-slide" id="modal-'+t+'" aria-hidden="true">\n\t\t<div class="modal__overlay" tabindex="-1" data-micromodal-close>\n\t\t<div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="modal-'+t+'-title">\n\t\t\t<header class="modal__header">\n\t\t\t\t<h2 class="modal__title" id="modal-'+t+'-title">\n\t\t\t\t\t'+e+'\n\t\t\t\t</h2>\n\t\t\t\t<button class="modal__close" aria-label="Close modal" data-micromodal-close></button>\n\t\t\t</header>\n\t\t\t<main class="modal__content">\n\t\t\t\t<p id="modal-'+t+'-content">\n\t\t\t\t\t'+(i=void 0===i?"":i)+"\n\t\t\t\t</p>\n\t\t\t</main>\n\t\t</div>\n\t\t</div>\n\t</div>",i=document.createElement("div");return i.innerHTML=t,i.firstChild}i.textContent=o.css,document.head.append(i);var s=!1,l=!1,h="alert",c=a(h,"Warning"),d="dialog",u=a(d,"Saving...");e.showAlert=function(t){e.PARAMS.SHOW_ALERTS?(s||(s=!0,document.getElementsByTagName("body")[0].appendChild(c)),document.getElementById("modal-"+h+"-content").innerHTML=t,r.default.show("modal-"+h)):console.warn(t)},e.showDialog=function(t,e,i){l||(l=!0,document.getElementsByTagName("body")[0].appendChild(u)),document.getElementById("modal-"+d+"-title").innerHTML=t,document.getElementById("modal-"+d+"-content").innerHTML=e,r.default.show("modal-"+d),0<(i=void 0!==(null==i?void 0:i.autoCloseDelay)?i.autoCloseDelay:-1)&&setTimeout(function(){r.default.close("modal-"+d)},i)};var f=document.createElement("div");e.initDotWithCSS=function(t){f.id="recordingDot",t=n({background:"red",width:"20px",height:"20px","border-radius":"50%",display:"none",position:"absolute",top:"0",right:"0","z-index":"10",margin:"20px"},t),Object.assign(f.style,t),document.getElementsByTagName("body")[0].appendChild(f)},e.showDot=function(t){e.PARAMS.SHOW_REC_DOT&&(f.style.display=t?"inline-block":"none")}}},n={};function x(t){var e=n[t];if(void 0!==e)return e.exports;e=n[t]={id:t,loaded:!1,exports:{}};return i[t].call(e.exports,e,e.exports,x),e.loaded=!0,e.exports}x.d=(t,e)=>{for(var i in e)x.o(e,i)&&!x.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},x.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),x.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),x.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},x.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var k={};return(()=>{"use strict";var t=k;Object.defineProperty(t,"__esModule",{value:!0}),t.isRecording=t.stopRecord=t.recordFrame=t.takeJPEGSnapshot=t.takePNGSnapshot=t.beginGIFRecord=t.beginVideoRecord=t.bindKeyToJPEGSnapshot=t.bindKeyToPNGSnapshot=t.bindKeyToGIFRecord=t.bindKeyToVideoRecord=t.setVerbose=t.init=t.showDialog=void 0;var e=x(583),n=x(162),r=x(809),o=x(330),i=x(10),a=x(330);Object.defineProperty(t,"showDialog",{enumerable:!0,get:function(){return a.showDialog}});var i=new Blob([i.workerString]),s=URL.createObjectURL(i),l=!0,h=[],c=(e.default,{webm:null,gif:null,png:null,jpeg:null}),d=null;function u(t){l=!!t}function f(){if(null!==d)return 1;o.showAlert("No canvas supplied, please call CanvasCapture.init() and pass in canvas element.")}t.init=function(t,e){d=t,e&&void 0!==e.verbose&&u(e.verbose),e&&void 0!==e.showAlerts&&(o.PARAMS.SHOW_ALERTS=e.showAlerts),e&&void 0!==e.showDialogs&&(o.PARAMS.SHOW_DIALOGS=e.showDialogs),e&&void 0!==e.showRecDot&&(o.PARAMS.SHOW_REC_DOT=e.showRecDot),o.PARAMS.SHOW_REC_DOT&&o.initDotWithCSS(null==e?void 0:e.recDotCSS),d.addEventListener("resize",function(){h.length&&o.showAlert("Don't resize while recording canvas!")})},t.setVerbose=u;var p={webm:void 0,gif:void 0,png:void 0,jpeg:void 0};function m(t){if(!h.length){var e=100;t&&t.quality&&(e=100*t.quality);e=new window.CCapture({format:"webm",name:(null==t?void 0:t.name)||"WEBM_Capture",framerate:(null==t?void 0:t.fps)||60,quality:e,verbose:l});return e.start(),h.push({capturer:e,numFrames:0,type:"webm"}),o.showDot(v()),e}o.showAlert("CCapture.js only supports one video/gif capture at a time.")}function g(t){if(!h.length){var e=100;t&&t.quality&&(e=100*t.quality);e=new window.CCapture({format:"gif",name:(null==t?void 0:t.name)||"GIF_Capture",framerate:(null==t?void 0:t.fps)||60,workersPath:s,quality:e,verbose:l});return e.start(),h.push({capturer:e,numFrames:0,type:"gif"}),o.showDot(v()),e}o.showAlert("CCapture.js only supports one video/gif capture at a time.")}function w(e){var i;f()&&(i=(null==e?void 0:e.name)||"PNG_Capture",d.toBlob(function(t){t?null!=e&&e.dpi?r.changeDpiBlob(t,null==e?void 0:e.dpi).then(function(t){n.saveAs(t,i+".png")}):n.saveAs(t,i+".png"):o.showAlert("Problem saving PNG, please try again!")},"image/png"))}function y(e){var i=(null==e?void 0:e.name)||"JPEG_Capture";f()&&d.toBlob(function(t){t?null!=e&&e.dpi?r.changeDpiBlob(t,null==e?void 0:e.dpi).then(function(t){n.saveAs(t,i+".jpg")}):n.saveAs(t,i+".jpg"):o.showAlert("Problem saving JPEG, please try again!")},"image/jpeg",(null==e?void 0:e.quality)||1)}function b(){if(0!==h.length){for(var t,e,i,n,r=h.length-1;0<=r;r--)n=i=e=void 0,e=(n=h[t=r]).capturer,i=n.numFrames,n=n.type,0!==i?(e.stop(),e.save(),"gif"===n&&o.PARAMS.SHOW_DIALOGS&&o.showDialog("Processing...","GIF is processing and may take a minute to save.  You can close this window in the meantime.",{autoCloseDelay:7e3}),h.splice(t,1)):o.showAlert("No frames recorded, call CanvasCapture.recordFrame().");o.showDot(v())}else o.showAlert("No valid capturer inited, please call CanvasCapture.beginVideoRecord() or CanvasCapture.beginGIFRecord() first.")}function v(){return 0<h.length}t.bindKeyToVideoRecord=function(e,t){p.webm=t,Object.keys(c).forEach(function(t){c[t]===e&&(c[t]=null)}),c.webm=e},t.bindKeyToGIFRecord=function(e,t){p.gif=t,Object.keys(c).forEach(function(t){c[t]===e&&(c[t]=null)}),c.gif=e},t.bindKeyToPNGSnapshot=function(e,t){p.png=t,Object.keys(c).forEach(function(t){c[t]===e&&(c[t]=null)}),c.png=e},t.bindKeyToJPEGSnapshot=function(e,t){p.jpeg=t,Object.keys(c).forEach(function(t){c[t]===e&&(c[t]=null)}),c.jpeg=e},window.addEventListener("keydown",function(t){c.webm&&t.key===c.webm&&(function(){for(var t=[],e=0;e<h.length;e++)"webm"===h[e].type&&t.push(h[e].capturer);return t}().length?b():m(p.webm)),c.gif&&t.key===c.gif&&(function(){for(var t=[],e=0;e<h.length;e++)"gif"===h[e].type&&t.push(h[e].capturer);return t}().length?b():g(p.gif)),c.png&&t.key===c.png&&w(p.png),c.jpeg&&t.key===c.jpeg&&y(p.jpeg)}),t.beginVideoRecord=m,t.beginGIFRecord=g,t.takePNGSnapshot=w,t.takeJPEGSnapshot=y,t.recordFrame=function(){if(f())if(0!==h.length)for(var t=0;t<h.length;t++)h[t].capturer.capture(d),h[t].numFrames+=1;else o.showAlert("No valid capturer inited, please call CanvasCapture.beginVideoRecord() or CanvasCapture.beginGIFRecord() first.")},t.stopRecord=b,t.isRecording=v})(),k})()});
//# sourceMappingURL=canvas-capture.min.js.map